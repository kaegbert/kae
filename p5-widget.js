!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){var e=t.slice(0,-h.length);return w&&"http:"===window.location.protocol&&/^https:/.test(e)&&(e=e.replace("https:","http:")),e}function i(){return document.currentScript||document.querySelectorAll("script[src$='"+h+"']")[0]}function o(t){var e=t.getBoundingClientRect();return e.bottom>=0&&e.right>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)&&e.left<=(window.innerWidth||document.documentElement.clientWidth)}function a(t){var e=parseInt(t.getAttribute("data-height"));return isNaN(e)&&(e=p.HEIGHT),e}function c(t){var e=document.createElement("a");return e.setAttribute("href",t),e.href}function d(t){var e,n=document.createElement("iframe"),r=a(t),i=parseInt(t.getAttribute("data-preview-width")),o=c(t.getAttribute("data-base-url")),d=t.getAttribute("data-p5-version"),u=t.hasAttribute("data-autoplay"),s=["sketch="+encodeURIComponent(t.textContent),"id="+encodeURIComponent(t.getAttribute("data-id"))],l=f.slice();!isNaN(i)&&i>=0&&s.push("previewWidth="+i),o&&s.push("baseSketchURL="+encodeURIComponent(o)),d&&s.push("p5version="+encodeURIComponent(d)),u&&s.push("autoplay=on"),l.push("min-height: "+r+"px"),e=b+m+"?"+s.join("&"),n.setAttribute("src",e),n.setAttribute("style",l.join("; ")),t.parentNode.replaceChild(n,t)}function u(t,e){function n(){o(t)&&(clearInterval(r),window.removeEventListener("scroll",n,!1),window.removeEventListener("resize",n,!1),e(t))}var r;r=setInterval(n,1e3),window.addEventListener("scroll",n,!1),window.addEventListener("resize",n,!1),n()}function s(t){var e=a(t);t.style.display="block",t.style.fontSize="0",t.style.width="100%",t.style.minHeight=e+"px",t.style.background="#f0f0f0",t.hasAttribute("data-id")||(t.setAttribute("data-id",A.toString()),A++),u(t,d)}function l(){var t=document.querySelectorAll("script[type='text/p5']");[].slice.call(t).forEach(function(t){s(t)})}var p=n(1),h="p5-widget.js",m="p5-widget.html",f=["width: 100%","background-color: white","border: 1px solid #ec245e","box-sizing: border-box"],w=!0,v=i(),b=r(v.src),g=!v.hasAttribute("data-manual"),A=1;g&&("complete"===document.readyState?l():window.addEventListener("load",l,!1)),window.p5Widget={baseURL:b,url:b+h,replaceScript:s,replaceAll:l,defaults:p}},function(t,e){"use strict";e.P5_VERSION="0.4.23",e.PREVIEW_WIDTH=150,e.HEIGHT=300}]);
//# sourceMappingURL=p5-widget.js.map
